/**
 *
 * @author Geppetto Generated Code</br>
 * Date Created: </br>
 * @since  </br>
   build:   </p>
 *
 * code was generated by the Geppetto System </br>
 * Geppetto system Copyright - NewPortBay LLC </br>
 * The generated code is free to use by anyone</p>
 *
 *
 *
*/

var app = angular.module('TwoTempate', ['ngRoute']);

   // configure our routes
   app.config(['$routeProvider','$httpProvider',function($routeProvider,$httpProvider) {
   $httpProvider.defaults.withCredentials = true;
       $routeProvider
            .when('/landing_page-en', {
                         templateUrl : 'app/views/en/landing_page-en.html'
                         ,allow:''
                     })

            .when('/app_level', {
                         controller: 'AplicationLevelCtrl', cache: false
                         ,template: ' ',
          			   allow:''
                     })

            .when('/NaveenKumar-en', {
                         templateUrl : 'app/views/en/NaveenKumar-en.html',
          controller: 'RedActionDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Gowtham1', {
                         templateUrl : 'app/views/en/Gowtham1.html',
          controller: 'RedActionDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Kumar1', {
                         templateUrl : 'app/views/en/Kumar1.html',
          controller: 'RedActionDefaultActivity'
                         ,allow:''
                     })

            .when('/Screen_2050-en', {
                         templateUrl : 'app/views/en/Screen_2050-en.html',
          controller: 'RedActionDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Gowtham1-en', {
                         templateUrl : 'app/views/en/Gowtham1-en.html',
          controller: 'RedActionDefaultActivity'
                         ,allow:''
                     })

            .when('/Kumar1-en', {
                         templateUrl : 'app/views/en/Kumar1-en.html',
          controller: 'RedActionDefaultActivity'
                         ,allow:''
                     })

            .when('/Screen_1050-en', {
                         templateUrl : 'app/views/en/Screen_1050-en.html',
          controller: 'OrangeTestDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Screen_1100-en', {
                         templateUrl : 'app/views/en/Screen_1100-en.html',
          controller: 'OrangeTestDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Top1-en', {
                         templateUrl : 'app/views/en/Top1-en.html',
          controller: 'OrangeTestDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Screen_2750-en', {
                         templateUrl : 'app/views/en/Screen_2750-en.html',
          controller: 'OrangeTestDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Screen_2800-en', {
                         templateUrl : 'app/views/en/Screen_2800-en.html',
          controller: 'OrangeTestDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Screen_2850-en', {
                         templateUrl : 'app/views/en/Screen_2850-en.html',
          controller: 'OrangeTestDefaultActivity'
                         ,allow:'ROLE_USER'
                     })

            .when('/Screen_1700-en', {
                         templateUrl : 'app/views/en/Screen_1700-en.html',
          controller: 'OrangeTestDefaultActivity'
                         ,allow:'ROLE_USER'
                     })


          .otherwise('app_level');

   }]).run(["$log","$rootScope", "$location", function($log,$rootScope, $location) {
	$rootScope.userData = {};
$rootScope.i = 0;
$rootScope.isLogIn = false;
$rootScope.serverRoleValidation = function(toStaterolesAllowList){
var checkO = angular.equals({}, $rootScope.userData);
console.log('checkO data =>',angular.toJson(checkO));
if(!checkO){
var frontRole = toStaterolesAllowList;
if(!angular.equals({}, $rootScope.userData)){
$rootScope.roleListOfCurrentUser = $rootScope.userData.authorities[$rootScope.i].authority;
for(var uiRole= 0; uiRole< frontRole.length; uiRole++){
// verfying the ROLE_ADMIN is present in this var $rootScope.roleListOfCurrentUser
// 	$rootScope.roleListOfCurrentUser  if this has ROLE_ADMIN we give the permission to access the all pages
if( $rootScope.roleListOfCurrentUser === "ROLE_ADMIN"){
console.log('User ROLE_ADMIN can Access all the pages in the project');
return true;
}else{
var testVar = frontRole.indexOf($rootScope.roleListOfCurrentUser) !== -1;
console.log('testVar data =>',angular.toJson(testVar));
if(testVar){
console.log('test var true stituation');
return true;
}
}
}
}
console.log('return false data coming time executed');
return false;
}
else{
console.log('else stituation checkO data')
return true;
}
};
$rootScope.$on("$routeChangeStart", function (event,next, current) {
var currentUrl = $location.path();
if(currentUrl != "/accessDenied " && next.allow){
console.log('data of current Url =>',next.allow);
if (!$rootScope.serverRoleValidation(next.allow)) {
console.log('serverRoleValidation data coming time');
event.preventDefault();
$location.url('/accessDenied');
}
}
});
}]);

